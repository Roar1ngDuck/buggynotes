{% extends 'notes/base.html' %}

{% block title %}View Note{% endblock %}

{% block content %}
    <h1>Editing Note: {{ note.title }}</h1>

    <!-- Back Button -->
    <p><a href="{% url 'index' %}">Back to Notes List</a></p>

    <!-- Note Form -->
    <form action="{% url 'view_note' note.id %}" method="post" class="note-form">
        {% csrf_token %}
        <div class="note">
            <label for="title">Title:</label><br>
            <input type="text" id="title" name="title" value="{{ note.title }}" required><br>
            <label for="content">Content:</label><br>
            <textarea class="note-content" id="content" name="content" required>{{ note.content }}</textarea><br>
        </div>
        <button type="submit">Save</button>
        <button class="red" type="button" onclick="document.getElementById('deleteNoteButton').click();">Delete Note</button>
    </form>

    <!-- Delete Note Form -->
    <form action="{% url 'delete_note' note.id %}" method="post" class="note-form">
        {% csrf_token %}
        <button id="deleteNoteButton" style="display: none;" type="submit" onclick="return confirm('Are you sure you want to delete this note?');">Delete Note</button>
    </form>
{% endblock %}